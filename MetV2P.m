function [s,d] = MetV2P( x, y);%---------------------------------------------------------------------------%function [s,d] = MetV2P( x, y);%METV2P = convert true vector components to met polar%Wind vectors can be reported in meteorological convention or %  oceanographic convention which means the vector points in the direction the wind is coming from,% or in the direction the wind is going, respectively.% The convention we use here is that meteorological winds in POLAR coordinates are%reported as speed and the direction the wind is coming from.%The components of the wind, the wind vector, are the components of the%vector and thus are in the direction the wind is going.  A true vector%sense.%INPUT% x,y are vector components%OUTPUT% s = speed (magnitude)% d = meteorological direction, (from)%%reynolds 970730%---------------------------------------------------------------------------r2d = 180 / pi;s = sqrt(x .^ 2 + y .^ 2);d = atan2(-x, -y) * r2d;ix = find(d < 0);if length(ix) > 0	d(ix) = d(ix) + 360 * ones(size(ix));endreturn