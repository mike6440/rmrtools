function [ttk, htk, sthtk] = MakeHourTicks(dt1, dt2)%==============================% MAKEHOURTICKS: %     [ttk, htk] = Make HourTicks(dt1, dt2);%===============================% locate the hour ticks%test, clear, dt1=datenum(1999,10,1,12,0,0); dt2=datenum(1999,10,1,13,10,0);tt = dt1;  ttk = [];  htk = [];ndays = ceil(dt2-dt1);nhrs = ceil((dt2-dt1) * 24);%======================% If the time diff is less than 2 hours, then show minutes%======================if nhrs <= 2	nmins = ceil((dt2-dt1) * 1440);	tskpvec = [1, 2, 5, 10, 20, 30, 60]';	nticks = fix(nmins * ones(length(tskpvec),1) ./ tskpvec);	ix = find(nticks > 10);	if length(ix) == length(tskpvec)		tskp = tskpvec(length(tskpvec));	else		tskp = tskpvec(length(ix) + 1);	end		[y,M,d,h,m,s] = datevec(dt1);	dt0 = datenum(y,M,d);	for i = 1:1000		%fprintf('%s / %s\n',datestr(dt0), datestr(dt1));		if dt0 >= dt1, break, end		dt0 = dt0 + tskp/1440;	end	tt = dt0;  ttk = [];  htk = [];  sthtk=[];	while tt <= dt2		[y,M,d,h,m,s] = datevec(tt);		hdum = h + m/60 + s/3600;		htk = [htk; round(hdum*100)/100];		str = sprintf('%d:%02d', h, round(m+s/60));		sthtk = strvcat(sthtk,str);				if htk == 24, 			htk = 0; 			str = sprintf('00:00');			sthtk=strvcat(sthtk,str);		end				ttk = [ttk; tt];				tt = tt + tskp/1440;	end%==================================================% SHOW HOURS  IF NHRS > 2 & NHRS < 48%==================================================elseif nhrs < 48 & nhrs > 2    % SELECT THE DESIRED TIME BETWEEN TICKS	tskpvec = [.1, .2, 1,2,3,6,8,12,24,48,64]';	nticks = fix(nhrs * ones(length(tskpvec),1) ./ tskpvec);    % MAXIMUM NUMBER OF TICKS    ix = find(nticks > 10);	if length(ix) == length(tskpvec)		tskp = tskpvec(length(tskpvec));	else		tskp = tskpvec(length(ix) + 1);	end	% find the first tick	% find the start of the current day	[y,M,d,h,m,s] = datevec(dt1);	dt0 = datenum(y,M,d);	for i = 1:400		%fprintf('%s / %s\n',datestr(dt0), datestr(dt1));		if dt0 >= dt1, break, end		dt0 = dt0 + tskp/24;	end        % LOOP TO FIND ALL THE TICKS	tt = dt0;  ttk = [];  htk = [];  sthtk=[];	while tt <= dt2		[y,M,d,h,m,s] = datevec(tt);		if tskp >= 24			[idum, hdum] = dt2jdf(tt);			htk = [htk; round(hdum)];			str = sprintf('%.0f', hdum);			sthtk = strvcat(sthtk,str);		else			hdum = h + m/60 + s/3600;			htk = [htk; round(hdum*10)/10];			str = sprintf('%4.1f', hdum);			sthtk = strvcat(sthtk,str);		end				if htk == 24, htk = 0; end				ttk = [ttk; tt];		tt = tt + tskp/24;	end %==================================================% SHOW YEAR DAYS%==================================================else    % SELECT THE DESIRED TIME BETWEEN TICKS	tskpvec = [1,2,4,7,15,30,60]';	nticks = fix(ndays * ones(length(tskpvec),1) ./ tskpvec);    % MAXIMUM NUMBER OF TICKS    ix = find(nticks > 10);	if length(ix) == length(tskpvec)		tskp = tskpvec(length(tskpvec));	else		tskp = tskpvec(length(ix) + 1);	end	% find the first tick	% find the start of the current day    [y,j] = dt2jdf(dt1);  j1 = fix(j);	dt0 = fix(dt1);        % LOOP TO FIND ALL THE TICKS	tt = dt0;  	sthtk = []; htk = [];  ttk = [];	while tt <= dt2        [y,M,d,h,m,s] = datevec(tt);		[idum, hdum] = dt2jdf(tt);		htk = [htk; round(hdum)];		str = sprintf('%d', round(hdum));		sthtk = strvcat(sthtk,str);				ttk = [ttk; tt];		tt = tt + tskp;	endendreturn