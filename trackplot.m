function trackplot(dtx,latx,lonx),%=============================================% NOTE:: call trackplot_mapf or trackplot_mapc before% function trackplot(dt,lat,lon),%%    global SERIES DTRANGE LATRANGE LONRANGE INTERPSECS%%INPUT% dt = datenum series% lat = latitude series% lon = longitude series%% before calling%global SERIES DTRANGE LATRANGE LONRANGE INTERPSECS%SERIES='series';%DTRANGE=[min(sp.dt),max(sp.dt)]%LATRANGE=[min(sp.lat),max(sp.lat)]%LONRANGE=[min(sp.lon),max(sp.lon)]%INTERPSECS=3600;% "addpath('/Users/rmr/swmain/matlab/crusty/m_map')"% trackplot_mapc or trackplot_mapf% NOTE:: call trackplot_mapf or trackplot_mapc before	% TEST%latx=nav.lat; lonx=nav.lon; dtx=nav.dt;	% END TEST%=============================================global SERIES DTRANGE LATRANGE LONRANGE INTERPSECS		% ADD CRUSTY%addpath('/Users/rmr/Dropbox/swmain/matlab/crusty/m_map')	% FIND THE PERIOD OF THE SERIESdd = diff(dtx)*86400;ddp = round(median(dd));fprintf('PERIOD SECS: %.1f\n', ddp);	%===================	% TRACKLINE	%===================	%PUT LON IN THE RANGE -180 TO 180lonx = CompassCheck(lonx);	% INTERPOLATE TIME IN SECS%fprintf('INTERPOLATE SECS: %.1f\n',INTERPSECS);	% FILL THE TIME SERIES, FILL GAPS WITH NANS[dtf,latf] = FillTimeSeries1sec_interp(dtx,latx);[dtf,lonf] = FillTimeSeries1sec_interp(dtx,lonx);	%% GRAPH dt1 = dtf(1);  dt2 = dtf(end);% NUMBER OF DAYS TO SKIP BETWEEN DAY LABELSndaylabmax = 20;nskip = max(1, fix((dt2 - dt1)/ndaylabmax)+1);	%==================	% PLOT THE TRACK LINE	%==================	% LABEL OFFSETdely = 0.002 * diff(LATRANGE);delx = 0.002 * diff(LONRANGE);	% DIVIDE THE TRACK INTO SECTIONS BETWEEN NANS	%% UNBROKEN CRUISE TRACKm_track(lonf,latf,'linew',2,'color','r');		% START POINTtx = m_text(lonf(1),latf(1),'o','fontweight','bold','fontsize',14);set(tx,'verticalalignment','middle','horizontalalignment','center','Color','k');	% START LABELtxstart = m_text(lonf(1)-delx, latf(1)-delx, 'START', 'fontname','arial','fontweight','bold','fontsize',14, 'color','k');set(txstart,'verticalalignment','top','horizontalalignment','right');	% all jdays	% ALL JDAYS IN THIS SEGMENTdt = fix(dtx(1))+1:fix(dtx(end));if length(dt)>0,	lat = interp1(dtx,latx,dt);	lon = interp1(dtx,lonx,dt);  [lon(end) lat(end)]	for id = 1:length(dt),		txt = m_text(lon(id),lat(id),'o','fontname','arial','fontweight','bold','fontsize',14);		set(txt,'verticalalignment','middle','horizontalalignment','center');		%fprintf('day=%.2f, flag=%.2f\n',dtx(id)-dt1, rem( floor(dtx(id)-dt1), nskip));		if rem( floor(dt(id)-DTRANGE(1)), nskip) == 0,			[y,jds] = dt2jdf(dt(id));			jds = fix(jds);			tx = m_text(lon(id)+delx, lat(id)+delx, sprintf('%d',jds),'fontname','arial', 'fontweight','bold','fontsize',14);			set(tx,'verticalalignment','bottom','horizontalalignment','left');			set(tx,'fontname','arial','Color','k');		end	endendhold on;% END POINT%tx = m_text(lon(end),lat(end),'o','fontweight','bold','fontsize',14);%set(tx,'verticalalignment','middle','horizontalalignment','center','Color','k');%tx = m_text(lon(end)+dely, lat(end)+delx, 'END', 'fontname','arial','fontweight','bold','fontsize',14,'color','k');%set(tx,'verticalalignment','bottom','horizontalalignment','left');m_proj('get');str=sprintf('LEG %s from  %s  to  %s\n',SERIES,dtstr(dtf(1)), dtstr(dtf(end)));tx=title(str);set(tx,'fontname','arial','fontsize',12,'fontweight','bold');set(gca,'fontname','helvetica','fontsize',14,'fontweight','bold');return